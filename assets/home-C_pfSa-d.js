import{a as b,j as e,i as f,r as p}from"./index-DtKihW7Q.js";import{G as h,F as x,S}from"./SubmitButton-lKFENphI.js";async function D(){var l;try{const t={data:{data:{availableBalance:162218.6328,purchasePower:162197.5328,IPOEligableClientList:[{InstrumentID:549,InstrumentName:"National Tea Company Ltd.",SecurityCode:"NTC",IPOType:"IPO- Gen. Public",IPOStatus:"Approved",ClientAccountType:"RB",IPOInstrumentID:40,SubscriptionOpeningDate:"19/06/2024",SubscriptionClosingDate:"19/08/2024",CutOffDate:"13/06/2024",RequiredMarketValueCutOffDate:0,MinApplicationAmount:1e3,MaxApplicationAmount:5e5,SubsciptionAmountMultipleOf:null,MarketValue:11363097e-1},{InstrumentID:2347,InstrumentName:"Beximco 1st ZCB TR 6",SecurityCode:"BD3015BFZC61",IPOType:"IPO- Gen. Public",IPOStatus:"Approved",ClientAccountType:"RB",IPOInstrumentID:39,SubscriptionOpeningDate:"16/07/2024",SubscriptionClosingDate:"18/07/2024",CutOffDate:"14/07/2024",RequiredMarketValueCutOffDate:0,MinApplicationAmount:5e4,MaxApplicationAmount:2e7,SubsciptionAmountMultipleOf:null,MarketValue:12800729e-1},{InstrumentID:2338,InstrumentName:"Beximco 1st ZCB TR 5",SecurityCode:"BEX1STZCBTR5",IPOType:"IPO- Gen. Public",IPOStatus:"Approved",ClientAccountType:"RB",IPOInstrumentID:38,SubscriptionOpeningDate:"16/06/2024",SubscriptionClosingDate:"20/06/2024",CutOffDate:"13/06/2024",RequiredMarketValueCutOffDate:0,MinApplicationAmount:1e3,MaxApplicationAmount:1e9,SubsciptionAmountMultipleOf:null,MarketValue:11363097e-1},{InstrumentID:2295,InstrumentName:"Techno Drugs Limited",SecurityCode:"TECHNODRUG",IPOType:"IPO- Gen. Public",IPOStatus:"Approved",ClientAccountType:"RB",IPOInstrumentID:36,SubscriptionOpeningDate:"09/06/2024",SubscriptionClosingDate:"13/06/2024",CutOffDate:"30/05/2024",RequiredMarketValueCutOffDate:5e4,MinApplicationAmount:1e4,MaxApplicationAmount:1e6,SubsciptionAmountMultipleOf:null,MarketValue:12275774e-1},{InstrumentID:2313,InstrumentName:"Beximco 1st ZCB TR 1",SecurityCode:"BEX1STZCBTR1",IPOType:"IPO- Gen. Public",IPOStatus:"Approved",ClientAccountType:"RB",IPOInstrumentID:35,SubscriptionOpeningDate:"01/05/2024",SubscriptionClosingDate:"07/05/2024",CutOffDate:"22/04/2024",RequiredMarketValueCutOffDate:1e4,MinApplicationAmount:5e4,MaxApplicationAmount:25e6,SubsciptionAmountMultipleOf:null,MarketValue:13491196e-1},{InstrumentID:2266,InstrumentName:"Southeast Bank 1st Perpetual Bond",SecurityCode:"SEB1PBOND",IPOType:"IPO- Gen. Public",IPOStatus:"Approved",ClientAccountType:"RB",IPOInstrumentID:23,SubscriptionOpeningDate:"18/02/2024",SubscriptionClosingDate:"27/02/2024",CutOffDate:"15/02/2024",RequiredMarketValueCutOffDate:0,MinApplicationAmount:5e3,MaxApplicationAmount:5e8,SubsciptionAmountMultipleOf:null,MarketValue:11778524e-1},{InstrumentID:2247,InstrumentName:"Asiatic Laboratories Limited",SecurityCode:"ASIATICLAB",IPOType:"IPO- Gen. Public",IPOStatus:"Approved",ClientAccountType:"RB",IPOInstrumentID:13,SubscriptionOpeningDate:"04/02/2024",SubscriptionClosingDate:"13/02/2024",CutOffDate:"25/01/2024",RequiredMarketValueCutOffDate:0,MinApplicationAmount:1e4,MaxApplicationAmount:1e4,SubsciptionAmountMultipleOf:null,MarketValue:698753.4},{InstrumentID:2252,InstrumentName:"Intraco Refueling Convertible Bond",SecurityCode:"INTRACOCB",IPOType:"IPO- Gen. Public",IPOStatus:"Order",ClientAccountType:"RB",IPOInstrumentID:16,SubscriptionOpeningDate:"04/02/2024",SubscriptionClosingDate:"08/02/2024",CutOffDate:"01/02/2024",RequiredMarketValueCutOffDate:0,MinApplicationAmount:1e5,MaxApplicationAmount:1e7,SubsciptionAmountMultipleOf:null,MarketValue:606483.9},{InstrumentID:2242,InstrumentName:"NRB Bank PLC",SecurityCode:"NRBBANK",IPOType:"IPO- Gen. Public",IPOStatus:"Approved",ClientAccountType:"RB",IPOInstrumentID:9,SubscriptionOpeningDate:"28/01/2024",SubscriptionClosingDate:"04/02/2024",CutOffDate:"18/01/2024",RequiredMarketValueCutOffDate:5e4,MinApplicationAmount:1e4,MaxApplicationAmount:1e8,SubsciptionAmountMultipleOf:null,MarketValue:591421},{InstrumentID:2245,InstrumentName:"IFIC Guaranteed Sreepur Township Green Zero Coupon Bond Tranche 2",SecurityCode:"TR2GSTGZCB",IPOType:"IPO- Gen. Public",IPOStatus:"Approved",ClientAccountType:"RB",IPOInstrumentID:12,SubscriptionOpeningDate:"29/01/2024",SubscriptionClosingDate:"30/01/2024",CutOffDate:"25/01/2024",RequiredMarketValueCutOffDate:0,MinApplicationAmount:1,MaxApplicationAmount:1e7,SubsciptionAmountMultipleOf:null,MarketValue:698753.4},{InstrumentID:2234,InstrumentName:"UCB 2nd Perpetual Bond",SecurityCode:"UCB2PBOND",IPOType:"IPO- Gen. Public",IPOStatus:"Approved",ClientAccountType:"RB",IPOInstrumentID:6,SubscriptionOpeningDate:"14/01/2024",SubscriptionClosingDate:"22/01/2024",CutOffDate:"11/01/2024",RequiredMarketValueCutOffDate:0,MinApplicationAmount:5e3,MaxApplicationAmount:3e8,SubsciptionAmountMultipleOf:null,MarketValue:523363.9},{InstrumentID:2219,InstrumentName:"Best Holdings Limited",SecurityCode:"BESTHLDNG",IPOType:"IPO- Gen. Public",IPOStatus:"Approved",ClientAccountType:"RB",IPOInstrumentID:4,SubscriptionOpeningDate:"14/01/2024",SubscriptionClosingDate:"22/01/2024",CutOffDate:"03/01/2024",RequiredMarketValueCutOffDate:5e4,MinApplicationAmount:1e4,MaxApplicationAmount:15e5,SubsciptionAmountMultipleOf:null,MarketValue:413540.9}]}}};return(l=t==null?void 0:t.data)==null?void 0:l.data}catch(t){console.log(t)}}async function g(l){var t;try{const n=await b.post("/ipoRequest",l);return console.log("res",n==null?void 0:n.data),(t=n==null?void 0:n.data)==null?void 0:t.data}catch(n){console.log(n)}}const I=({children:l,style:t})=>e.jsx("div",{className:"card p-2 mb-3 w-100",style:{borderColor:"#A9B8CEB2",borderWidth:"0.8px",...t},children:l}),M=({style:l})=>{var s,i;const{ipoClientFinancialInfo:t,setIpoClientFinancialInfo:n}=f();return p.useEffect(()=>{(async()=>{const u=await D();n(u)})()},[]),e.jsx(I,{children:e.jsxs("div",{className:"d-flex flex-row justify-content-around",children:[e.jsxs("div",{className:"col-6 d-flex flex-column justify-content-center align-items-center",children:[e.jsx("p",{className:"label-text-client-FinData",style:{margin:0},children:"Available Balance"}),e.jsx("p",{className:"value-text-client-FinData",style:{margin:0},children:(s=Number(t==null?void 0:t.availableBalance))==null?void 0:s.toFixed(2)})]}),e.jsxs("div",{className:"col-6 d-flex flex-column justify-content-center align-items-center",children:[e.jsx("p",{className:"label-text-client-FinData",style:{margin:0},children:"Purchase Power"}),e.jsx("p",{className:"value-text-client-FinData",style:{margin:0},children:(i=Number(t==null?void 0:t.purchasePower))==null?void 0:i.toFixed(2)})]})]})})};function P(l){return h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(l)}const O=({checked:l,onPress:t,containerStyle:n,checkboxStyle:s,textStyle:i,label:u,onboarding:C,...m})=>e.jsxs("div",{className:`custom-checkbox-container d-flex align-items-center ${n}`,onClick:t,...m,children:[e.jsx("div",{className:`custom-checkbox ${s}`,style:{backgroundColor:l?C?"#F27148CC":"#2E8852":"#76414133",position:"relative"},children:l&&e.jsx(P,{size:12,color:"white"})}),u&&e.jsx("span",{className:`custom-label ${i}`,children:u})]});function y({selectedItems:l,multipleSelect:t,handleSelect:n,setItemArray:s}){const{ipoClientFinancialInfo:i,setIpoClientFinancialInfo:u,onChangeIpoClientFinancialInfo:C,resetIpoClientFinancialInfo:m}=f();return e.jsxs(I,{style:{height:"30vh",borderRadius:"6px",borderWidth:"0.3px",borderColor:"#CAC7C9",borderStyle:"solid"},children:[e.jsx("div",{className:"col-container",children:e.jsx("h5",{className:"label-text-eligible-ipo",children:"Eligible IPO List"})}),e.jsx("div",{className:"ipo-list-container",children:i==null?void 0:i.IPOEligableClientList.map((o,c)=>e.jsxs("div",{className:"ipo-list-row",children:[e.jsxs("div",{className:"col-5 instrument-container",children:[e.jsxs("div",{className:"d-flex align-items-center main-row-content",children:[e.jsx("span",{className:"security-label",children:o==null?void 0:o.SecurityCode}),t&&e.jsx("div",{className:"ms-1",children:e.jsx(O,{checked:l[c]||!1,onPress:()=>n(c,o),onboarding:!1,containerStyle:"checkbox-container"})})]}),e.jsxs("span",{className:"instrument-name",children:["(",o==null?void 0:o.InstrumentName,")"]})]}),e.jsxs("div",{className:"col-4 date-container",children:[e.jsx("span",{className:"subs-date-label",children:"Subscription Date"}),e.jsx("span",{className:"date-text",children:o==null?void 0:o.SubscriptionOpeningDate})]}),e.jsx("div",{className:"col-3 button-container",children:e.jsx("button",{className:`apply-button ${t?"disabled-button":""}`,onClick:()=>{console.log("Button Pressed",o),s([o])},disabled:t,children:"Apply"})})]},c))})]})}function j({itemArray:l}){return e.jsx(I,{style:{backgroundColor:"#f7faff",border:"0.3px solid #cac7c9",height:"30vh",padding:"10px",overflowY:"auto"},children:e.jsx("div",{className:"scroll-container",children:l==null?void 0:l.map((t,n)=>{var s,i,u;return e.jsxs(I,{style:{marginHorizontal:20},children:[e.jsxs("div",{className:"d-flex align-items-center mt-3",children:[e.jsx("div",{className:"d-flex align-items-right",children:e.jsx("label",{className:"label-text",children:"Instrument Name"})}),e.jsx(x,{value:t==null?void 0:t.SecurityCode,className:"text-field",readOnly:!0})]}),e.jsxs("div",{className:"d-flex align-items-center mt-3",children:[e.jsx("div",{className:"d-flex align-items-right",children:e.jsx("label",{className:"label-text",children:"Application Amount"})}),e.jsx(x,{value:(s=t==null?void 0:t.MinApplicationAmount)==null?void 0:s.toString(),className:"text-field",placeholder:"Enter Your Amount",type:"number",readOnly:((i=t==null?void 0:t.MinApplicationAmount)==null?void 0:i.toString())===((u=t==null?void 0:t.MaxApplicationAmount)==null?void 0:u.toString())})]})]},n)})})})}const N=()=>e.jsxs("svg",{width:88,height:90,viewBox:"0 0 78 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M16.1088 47.6564L9.58443 57.6432C7.78257 60.4006 3.87211 60.8116 1.52634 58.4883C-0.819424 56.1649 -0.404405 52.2917 2.37958 50.507L12.4625 44.0449L16.1088 47.6564Z",fill:"#F03800"}),e.jsx("path",{d:"M21.5764 42.2397C23.0869 43.7359 23.0869 46.1601 21.5764 47.6563C20.0689 49.1494 17.6192 49.1522 16.1089 47.6563L12.4627 44.0448C10.9534 42.5499 10.9534 40.1244 12.4627 38.6295C13.9731 37.1335 16.4208 37.1334 17.9314 38.6295L21.5764 42.2397Z",fill:"#FF641A"}),e.jsx("path",{d:"M35.2474 46.7913C47.3487 46.7913 57.1588 37.0748 57.1588 25.0889C57.1588 13.103 47.3487 3.38647 35.2474 3.38647C23.1461 3.38647 13.336 13.103 13.336 25.0889C13.336 37.0748 23.1461 46.7913 35.2474 46.7913Z",fill:"#4F737C"}),e.jsx("path",{d:"M46.779 13.6673C53.1473 19.9749 53.1473 30.203 46.779 36.5106C40.4106 42.8182 30.0841 42.8182 23.7157 36.5106C17.3474 30.203 17.3474 19.9749 23.7157 13.6673C30.0841 7.35967 40.4106 7.35967 46.779 13.6673ZM56.7111 7.65967C57.4226 7.65967 58 8.23158 58 8.93626C58 9.64093 57.4226 10.2128 56.7111 10.2128C55.9996 10.2128 55.4222 9.64093 55.4222 8.93626C55.4222 8.23158 55.9996 7.65967 56.7111 7.65967ZM56.7111 53.6169C57.4226 53.6169 58 54.1888 58 54.8935C58 55.5982 57.4226 56.1701 56.7111 56.1701C55.9996 56.1701 55.4222 55.5982 55.4222 54.8935C55.4222 54.1888 55.9996 53.6169 56.7111 53.6169Z",fill:"#ECECF1"}),e.jsx("path",{d:"M49.6221 0C50.6893 0 51.5555 0.857868 51.5555 1.91488C51.5555 2.9719 50.6893 3.82977 49.6221 3.82977C48.5549 3.82977 47.6888 2.9719 47.6888 1.91488C47.6888 0.857868 48.5549 0 49.6221 0Z",fill:"#F03800"}),e.jsx("path",{d:"M34.1558 53.6168C35.223 53.6168 36.0891 54.4746 36.0891 55.5317C36.0891 56.5887 35.223 57.4465 34.1558 57.4465C33.0886 57.4465 32.2225 56.5887 32.2225 55.5317C32.2225 54.4746 33.0886 53.6168 34.1558 53.6168ZM10.3115 1.27661C11.023 1.27661 11.6004 1.84852 11.6004 2.5532C11.6004 3.25788 11.023 3.82979 10.3115 3.82979C9.60003 3.82979 9.02262 3.25788 9.02262 2.5532C9.02262 1.84852 9.60003 1.27661 10.3115 1.27661Z",fill:"#FF641A"}),e.jsx("path",{d:"M3.86721 29.3615C4.57867 29.3615 5.15609 29.9334 5.15609 30.638C5.15609 31.3427 4.57867 31.9146 3.86721 31.9146C3.15575 31.9146 2.57833 31.3427 2.57833 30.638C2.57833 29.9334 3.15575 29.3615 3.86721 29.3615Z",fill:"#F03800"}),e.jsx("path",{d:"M1.93357 14.0425C3.00076 14.0425 3.86689 14.9003 3.86689 15.9574C3.86689 17.0144 3.00076 17.8722 1.93357 17.8722C0.866373 17.8722 0.000244141 17.0144 0.000244141 15.9574C0.000244141 14.9003 0.866373 14.0425 1.93357 14.0425Z",fill:"#ECECF1"}),e.jsx("path",{d:"M37.2676 24.8935L43.4451 18.775C43.9484 18.2765 43.9484 17.4681 43.4451 16.9695C42.9416 16.4711 42.1258 16.4711 41.6222 16.9695L35.4447 23.0881L29.2672 16.9695C28.7639 16.4711 27.9478 16.4711 27.4444 16.9695C26.9411 17.468 26.9411 18.2763 27.4444 18.775L33.6219 24.8935L27.4444 31.0121C26.9411 31.5106 26.9411 32.3189 27.4444 32.8176C27.6961 33.0668 28.0259 33.1915 28.3558 33.1915C28.6856 33.1915 29.0155 33.0668 29.2671 32.8176L35.4446 26.699L41.6221 32.8176C41.8738 33.0668 42.2036 33.1915 42.5335 33.1915C42.8633 33.1915 43.1931 33.0668 43.4448 32.8176C43.9481 32.3191 43.9481 31.5107 43.4448 31.0121L37.2676 24.8935Z",fill:"#FF641A"})]});function R(){p.useState(!1);const[l,t]=p.useState([]),[n,s]=p.useState([]);p.useState([]);const[i,u]=p.useState(!1);p.useEffect(()=>{s([]),t([])},[!i]);const C=c=>{console.log("removed Item",c),s(a=>{if(Array.isArray(a)){const r=a.filter(d=>d.IPOInstrumentID!==c.IPOInstrumentID);return console.log("updated Array",r),r}else return console.error("itemArray is not an array"),a})},m=(c,a)=>{const r=[...l];r[c]=!r[c],r[c]?s(d=>d.some(A=>A.SecurityCode===a.SecurityCode)?d:({...a,id:Date.now()},[...d,a])):C(a),t(r)},o=async()=>{const c=n.map(a=>({instrumentID:a==null?void 0:a.InstrumentID,ipoInstrumentID:a==null?void 0:a.IPOInstrumentID,applicationAmount:a==null?void 0:a.MinApplicationAmount}));console.log("ipoRequests",c);try{let a=await g(c);console.log("response in front",a)}catch(a){console.log(a)}};return e.jsxs(e.Fragment,{children:[e.jsx(M,{}),e.jsx(y,{selectedItems:l,multipleSelect:i,handleSelect:m,setItemArray:s}),e.jsx(O,{label:"Select Multiple",checked:i,onPress:()=>u(!i),onboarding:!1,containerStyle:"checkbox-container",textStyle:"checkbox-textStyle"}),e.jsx("div",{className:"application-form-header",children:e.jsx("h5",{className:"application-Header-label-text",children:"Application Form"})}),(n==null?void 0:n.length)===0&&e.jsxs("div",{className:"ipo-container d-flex flex-column justify-content-center align-items-center mx-3 mt-3 py-2",children:[e.jsx(N,{}),e.jsxs("div",{className:"d-flex flex-column justify-content-center align-items-center mx-3 mt-3 py-2",children:[e.jsx("p",{children:"Currently No IPO has been Selected."}),e.jsx("p",{className:"mt-2",children:"Select IPO to get form!"})]})]}),(n==null?void 0:n.length)>0&&e.jsx(j,{itemArray:n}),e.jsx("div",{className:"flex-column px-1.5 my-2",style:{display:"flex",justifyContent:"center"},children:e.jsx(S,{label:"Submit",onSubmit:o})})]})}export{R as default};
